macro(MEEDDetectPlatform)
    message(STATUS "CMAKE_SYSTEM_NAME: ${CMAKE_SYSTEM_NAME}")

    if (CMAKE_SYSTEM_NAME STREQUAL "Linux")
        set(PLATFORM_DEFINITION PLATFORM_IS_LINUX)
    elseif (CMAKE_SYSTEM_NAME STREQUAL "Windows")
        set(PLATFORM_DEFINITION PLATFORM_IS_WINDOWS)
    elseif (CMAKE_SYSTEM_NAME STREQUAL "Emscripten")
        set(PLATFORM_DEFINITION PLATFORM_IS_WEB)
    else()
        message(FATAL "The system is not supported by this engine")
    endif()
endmacro()

macro(MEEDOption OPTION DEFAULT_VALUE)
    option(${OPTION} "Enable ${OPTION}" ${DEFAULT_VALUE})
endmacro()

macro(MEEDSetup)
    set(PROJECT_BASE_DIR "{{ BASE_DIR }}")
    set(EXTERNALS_DIR "{{ BASE_DIR }}/externals")
    set(CMAKE_MODULE_DIR "{{ BASE_DIR }}/cmake")

    MEEDOption(WEBBUILD OFF)
endmacro()

macro(MEEDFindPackage PACKAGE_NAME FOLDER)
    set(CMAKE_FOLDER ${FOLDER})
    find_package(${PACKAGE_NAME} REQUIRED PATHS ${CMAKE_MODULE_DIR})
    unset(CMAKE_FOLDER CACHE)

    set(CMAKE_C_FLAGS "-m64")
    set(CMAKE_CXX_FLAGS "-m64")
endmacro()